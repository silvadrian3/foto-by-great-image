{"version":3,"sources":["/Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login-routing.module.ts","/Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login.component.html","/Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login.component.scss","/Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login.component.ts","/Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login.module.ts"],"names":[],"mappings":"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","file":"login.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [\n    { path: '', component: LoginComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login-routing.module.ts","module.exports = \"<ngx-loading [show]=\\\"loading\\\" [config]=\\\"{}\\\"></ngx-loading>\\n<div class=\\\"login-page\\\">\\n    <div class=\\\"col-md-6 push-md-3\\\">\\n        <div class=\\\"col-lg-12 login-container\\\">\\n            <form (ngSubmit)=\\\"login()\\\" role=\\\"form\\\" #form=\\\"ngForm\\\">\\n                <img src=\\\"assets/images/logo.png\\\" />\\n                <div class=\\\"row\\\">\\n                <div class=\\\"col-lg-12\\\">\\n                    <div class=\\\"form-content\\\">\\n                        <div class=\\\"form-group\\\">\\n                            <input \\n                                type=\\\"email\\\" \\n                                id=\\\"emailAddress\\\" \\n                                name=\\\"emailAddress\\\" \\n                                [(ngModel)]=\\\"emailAddress\\\" \\n                                class=\\\"form-control input-lg\\\" \\n                                #email=\\\"ngModel\\\" \\n                                placeholder=\\\"Email\\\" \\n                                [email]\\n                                required />\\n                            <div\\n                                *ngIf=\\\"email.errors && (email.dirty || email.touched)\\\"\\n                                class=\\\"text-danger text-space pull-right\\\"\\n                                [hidden]=\\\"!email.errors.required\\\">\\n                                    Email Address is Required.\\n                            </div>\\n                        </div>\\n                        \\n                        <div class=\\\"form-group\\\">\\n                            <input \\n                                type=\\\"password\\\" \\n                                class=\\\"form-control input-lg\\\"\\n                                id=\\\"password\\\" \\n                                name=\\\"password\\\" \\n                                [(ngModel)] = \\\"password\\\" \\n                                #pass=\\\"ngModel\\\" \\n                                placeholder=\\\"Password\\\" \\n                                required />\\n                            \\n                            <!--\\n                            <div class=\\\"text-space pull-left\\\">\\n                                <a [routerLink]=\\\"['/forgotpassword']\\\" class=\\\"text-left\\\">Forgot Password?</a>    \\n                            </div>\\n                            -->\\n\\n                            <div\\n                                *ngIf=\\\"pass.errors && (pass.dirty || pass.touched)\\\"\\n                                class=\\\"text-danger text-space pull-right\\\"\\n                                [hidden]=\\\"!pass.errors.required\\\">\\n                                Password is Required.\\n                            </div>\\n                        </div>\\n                    </div>\\n\\n                    \\n                </div>\\n            </div>\\n                \\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-lg-12 form-group\\\">\\n                        <button class=\\\"btn btn-success btn-lg\\\" type=\\\"submit\\\" [disabled]=\\\"form.invalid || loading\\\">Log in</button>\\n                    </div>\\n                    <div class=\\\"col-lg-12\\\">\\n                        <ngb-alert [type]=\\\"alert.type\\\" (close)=\\\"closeAlert(alert)\\\" *ngFor=\\\"let alert of alerts\\\">{{ alert.message }}</ngb-alert>\\n                    </div>\\n                </div>\\n                \\n                <!-- TODO: Register-->\\n                <!-- <a class=\\\"btn rounded-btn\\\" [routerLink]=\\\"['/signup']\\\">Register</a> -->\\n            </form>\\n        </div>\\n    </div>\\n</div>\\n    \"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login.component.html\n// module id = ../../../../../src/app/login/login.component.html\n// module chunks = login.module","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  display: block; }\\n\\n.login-page {\\n  font-family: \\\"Muli\\\", sans-serif !important;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  overflow: auto;\\n  background: #fff;\\n  text-align: center;\\n  padding: 3em; }\\n\\n.login-container {\\n  padding: 5% 12% 3% 12%;\\n  background-color: #FFF;\\n  margin-top: 14%;\\n  border: solid 1px #ddd;\\n  border-radius: 5px; }\\n\\n.text-space {\\n  margin-top: 10px;\\n  margin-bottom: 10px; }\\n\\n.col-lg-4 {\\n  padding: 0; }\\n\\n.input-lg {\\n  height: 42px;\\n  padding: 8px 16px;\\n  font-size: 14px;\\n  line-height: 1.3333333; }\\n\\n.rounded-btn {\\n  border-radius: 5px;\\n  color: rgba(0, 0, 0, 0.8);\\n  background: #fff;\\n  border: 2px solid rgba(0, 0, 0, 0.8);\\n  font-size: 18px;\\n  padding: 12px 25px; }\\n\\n.rounded-btn:hover, .rounded-btn:focus, .rounded-btn:active, .rounded-btn:visited {\\n  color: black;\\n  border: 2px solid black; }\\n\\nh1 {\\n  font-weight: 300;\\n  margin-top: 20px;\\n  margin-bottom: 10px;\\n  font-size: 36px; }\\n  h1 small {\\n    color: rgba(255, 255, 255, 0.7); }\\n\\n.form-group {\\n  padding: 4px 0; }\\n\\n.form-content {\\n  padding: 20px 0 10px 0; }\\n\\n.user-avatar {\\n  border-radius: 50%;\\n  border: 2px solid #FFF; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login.component.scss\n// module id = ../../../../../src/app/login/login.component.scss\n// module chunks = login.module","import { Component, OnInit  } from '@angular/core';\nimport { routerTransition } from '../router.animations';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { EmailValidator } from '@angular/forms';\nimport { NgbModal, ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { UserService } from '../shared';\n\n@Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n    styleUrls: ['./login.component.scss'],\n    animations: [routerTransition()],\n    providers: [EmailValidator]\n})\n\nexport class LoginComponent implements OnInit {\n\n    emailAddress: string;\n    password: string;\n    loading: boolean = false;\n    loggedUserType: string = \"\"; \n    loggedUserName: string = \"\"; \n    loggedUserId: string = \"\";\n    private alerts: Array<any> = [];\n\n    constructor(public router: Router, private userService: UserService) {}\n\n    ngOnInit() {\n        localStorage.setItem('isLoggedin', 'false');\n        localStorage.setItem('loggedUsername', '');\n        localStorage.setItem('loggedUsertype', '');\n        localStorage.setItem('loggedUserId', '');\n    }\n\n    public login() {\n        this.closeActiveAlert();\n        this.loading = true;\n\n        this.userService.login(this.emailAddress, btoa(this.password)).subscribe(\n            data => {\n                if(!this.isEmpty(data)){\n                    \n                  this.userService.setLoggedInUserId(data.userId);\n                  this.userService.setLoggedInUserType(data.role);\n\n                  if(data.firstName == \"\" && data.lastName == \"\"){\n                      this.userService.setLoggedInUserName(data.email, '');\n                  } else {\n                      this.userService.setLoggedInUserName(data.firstName, data.lastName);\n                  }\n\n                  this.loggedUserId = this.userService.getLoggedInUserId();\n                  this.loggedUserName = this.userService.getLoggedInUserName();\n                  this.loggedUserType = this.userService.getLoggedInUserType();\n\n                  this.successMessage('Log in successful. Please wait...');\n                  this.loading = false;\n\n                  localStorage.setItem('isLoggedin', 'true');\n                  localStorage.setItem('loggedUsername', this.loggedUserName);\n                  localStorage.setItem('loggedUsertype', this.loggedUserType);\n                  localStorage.setItem('loggedUserId', this.loggedUserId);\n      \n                  setTimeout(()=>{\n                      this.closeActiveAlert();\n                      this.router.navigateByUrl('/booking');\n                      /**\n                      if(this.loggedUserType == \"ADMIN\"){\n                          this.router.navigate(['/booking']);\n                      } else if(this.loggedUserType == \"EDITOR\" || this.loggedUserType == \"PHOTOGRAPHER\"){\n                          this.router.navigate(['/photos']);  \n                      }\n                      */\n                  }, 2000);\n                }\n        }, err => {\n          console.log(err);  \n          this.loading = false;\n          let errMsg = JSON.parse(err._body);\n          this.errMessage(errMsg.message.toLocaleString());\n          return false;              \n        });\n    }\n\n    private errMessage(msg){\n        this.closeActiveAlert();\n        this.alerts.push({\n          id: 1,\n          type: 'danger',\n          message: msg\n        });\n        \n        return false;\n      }\n    \n      private successMessage(msg){\n        this.closeActiveAlert();\n        \n        setTimeout(()=>{\n          this.alerts.push({\n            id: 1,\n            type: 'success',\n            message: msg\n          });\n        }, 500);\n        \n        return true;\n      }\n    \n      private closeAlert(alert: any) {    \n        const index: number = this.alerts.indexOf(alert);\n        this.alerts.splice(index, 1);\n      }\n    \n      private closeActiveAlert(){\n        this.alerts.splice(0, 1);\n      }\n    \n      private isEmpty(obj) {\n        for(var key in obj) {\n            if(obj.hasOwnProperty(key))\n                return false;\n        }\n        return true;\n      }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login.component.ts","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { LoadingModule } from 'ngx-loading';\nimport {\n    NgbCarouselModule,\n    NgbAlertModule\n  } from '@ng-bootstrap/ng-bootstrap';\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        NgbCarouselModule.forRoot(),\n        NgbAlertModule.forRoot(),\n        LoginRoutingModule,\n        FormsModule,\n        ReactiveFormsModule,\n        LoadingModule\n    ],\n    declarations: [LoginComponent]\n})\nexport class LoginModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/ceosilvajr/Development/cliq/ego-web/src/app/login/login.module.ts"],"sourceRoot":"webpack:///"}